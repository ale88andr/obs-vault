 
# admin
   
**admin add spare keys** - добавить файл РНПК (.pk).  
   
После ввода команды необходимо будет указать устройство, на котором содержится РНПК. Устройство лучше сделать FAT32, а лишние РНПК лучше с него убрать.  
   
**admin authentication-type-token** - изменить способ аутентификации на ViPNet Coordinator HW.  
   
Варианты аутентификации: пароль или устройство. Ну и крайне глупо менять способ аутентификации через SSH.  
   
**admin config list** - просмотр списка сохраненных копий конфигурации.  
   
**admin config delete** ИМЯ_КОПИИ - удалить копии конфигураций (для удалениях всех копий Config_*)  
   
**admin config load** ИМЯ_КОПИИ ВЕРСИЯ - восстановить конфигурацию из копии (все необходимые данные можно посмотреть в admin config list).  
   
**admin config save** ИМЯ_КОПИИ - сохранить копию текущий конфигурации (сохраненная копия включая конфигурации iplir, failover, mftp, firewall, справочники и ключи).  
   
**admin escape** - выйти в командный интерпретатор Linux.  
   
**admin export keys binary-encrypted USB** - экспорт спрвочников и ключей вместе с конфигурацией vipnet coordinator HW на USB. USB-носитель только с файловой системой FAT32. На выходе будет .vbe файл, из которого можно потом восстановить все настройки. Импортировать этот vbe файл можно при первичной инициализации координатора.  
   
**admin export logs usb** - экспорт системных журналов.  
   
**admin export-and-clear logs** - экспорт системных журналов с последующей их очисткой.  
   
**admin export packetdb usb** - экспорт журнала регистрации IP-пакетов на USB-носитель.  
   
**admin kick** НОМЕР_СЕССИИ - завершить сессию командного интерпретатора.  
   
**admin passwd** - изменить пароль ViPNet Coordinator HW.  
   
**admin remove keys** - удалить справочники и ключи, после выполнение этой команды координатор будет требовать первичную инициализацию.  
   
**admin show check integrity status** - просмотр информации о последней проверке целостности файлов.  
   
**admin ssh show-key** - просмотр отпечатков SSH-ключей, хранящихся на координаторе.  
   
**admin ssh reset-key X** - удалить отпечатки SSH-ключей, которые хранятся на самом координаторе. Вместо X необходимо указать узел, идентификатор или слово local.  
   
**admin upgrade software usb** - обновление программного обеспечения координатора с USB-носителя.
# alg  
   
**alg module ПРОТОКОЛ process off** - отключить обработку протокола DNS, FTP, H323, SCCP или SIP.  
   
**alg module ПРОТОКОЛ process on** - включить обработку протокола DNS, FTP, H323, SCCP или SIP.  
   
**alg restart** - перезапуск демона algd.  
   
**alg show** - просмотр текущих параметров обработки прикладных протоколов.  

# failover  
   
**failover config edit** - редактировать конфигурацию службы failover.  
   
**failover show config** - просмотр конфигурации службы failover.  
   
**failover show info** - просмотр информации о текущем состоянии failover.  
   
**failover view** - просмотр журнала переключений кластера горячего резервирования.  
   
**failover config mode** РЕЖИМ - установить режим работы службы. Возможные режимы single или cluster.  
   
**failover show active-mac-address** - просмотр информации о доступности сетевого интерфейса активного  
узла кластера со стороны пассивного узла.  
   
**failover start** - запуск службы failover.  
   
**failover stop** - остановка службы failover.
  
# firewall  
   
**firewall** ТИП **add** НОМЕР ИМЯ_ПРАВИЛА **src** АДРЕС_ОТПРАВИТЕЛЯ **dst** АДРЕС_ПОЛУЧАТЕЛЯ ПРОТОКОЛ РАСПИСАНИЕ ДЕЙСТВИЕ -  создать сетевой фильтр или правило трансляции адресов. Настоятельно рекомендую добавлять сетевые фильтры через графический интерфейс - так удобнее и это исключает возможность некоторых ошибок из-за сложности синтаксиса команды.  
   
Типы сетевых фильтров: **local, forward, tunnel, vpn, nat.**  
   
Возможные действия: **pass, drop, change src, change dst.**  
   
Примеры из руководства на координатор:  
   
    **firewall local add 2 rule "Rule 2" src 192.168.30.1 dst 172.16.35.1 tcp sport 2525 tcp dport 443 tcp dport 4444-4445 drop  
    firewall tunnel add 1 src 0x0daf1eb4 dst @any drop  
    firewall tunnel add src 0x1234abab dst 192.168.0.1 daily 8:00-20:00 pass  
    firewall nat add src mydomain.ru dst 192.168.20.1 tcp dport 8080 change dst 10.0.0.7:8080  
    firewall nat add src 10.0.0.1 dst 192.168.20.1 change src auto**  
   
Кроме того, можно создать группу объектов  
   
**firewall** ТИП ОБЪЕКТА **add name** ИМЯ СОСТАВ - создать группу объектов.  
   
Типы объектов: **ip-object, vpn-object, interface-object, service-object.**  
   
Примеры из руководства на координатор:  
   
    **firewall ip-object add name @IP_group_1 110.35.14.0/24 exclude 110.35.14.3,110.35.14.13  
    firewall schedule-object add name @weekend weekly sa su at 09:00-23:00  
    firewall interface-object add name @intgroup interface eth0 interface eth1**  
   
**firewall** ТИП **change append** НОМЕР **src** АДРЕС_ОТПРАВИТЕЛЯ или **dst** АДРЕС_ПОЛУЧАТЕЛЯ или ПРОТОКОЛ или РАСПИСАНИЕ - добавить адрес отправителя, адрес получателя, протокол или расписание в сетевой фильтр или правило трансляции адресов.  
   
**firewall** ТИП **delete** ПАРАМЕТРЫ - удалить сетевой фильтр или правило трансляции адресов.  
   
**firewall** ТИП **move rule** ТЕКУЩИЙ_НОМЕР **to** НОВЫЙ_НОМЕР - изменить порядковый номер (приоритет) сетевого фильтра.адресов.  
   
**firewall object delete** ИМЯ - удалить группу объектов.  
   
**firewall object show** - просмотр всех групп объектов.  
   
**firewall rules show** - просмотр всех сетевых фильтров и правил трансляции адресов.  
   
**firewall show** - просмотр конкретных групп объектов, сетевых фильтров и правил трансляции адресов.
# inet  
   
**inet bonding add** НОМЕР **mode** РЕЖИМ **slaves** ИНТЕРФЕЙСЫ - добавить агрегированный интерфейс, задать подчиненнын ему физические интерфейсы, а также для задать режим его работы.  
   
**inet bonding delete** НОМЕР -  удалить агрегированного интерфейса.  
   
**inet clear mac-address-table** - очистка ARP-таблицы.  
   
**inet dgd configuration default** - сброс параметров службы DGD (interval-time, response-time, retries-count, syslog-level).  
   
**inet dgd configuration interval-time** ИНТЕРВАЛ - задать частоту проверки соединения с тестовым IP-адресом шлюза.  
   
**inet dgd configuration response-time** ВРЕМЯ - задать время ожидания ответа от тестового IP-адреса шлюза.  
   
**inet dgd configuration retries-count** ЧИСЛО_ПРОВЕРОК - задать число проверок IP-адреса шлюза, при достижении которого шлюз считается нерабочим.  
   
**inet dgd configuration syslog-level** УРОВЕНЬ - задать уровнь событий службы DGD, записываемый в системный журнал.  
   
**inet dgd next-hop add** ИМЯ_ШЛЮЗА **address** АДРЕС_ШЛЮЗА или **interface** ИНТЕРФЕЙС **test-address** ТЕСТОВЫЙ_АДРЕС **check или no-check icmp** или **tcp80** или **tcp443** - добавить проверки состояния заданного шлюза с помощью отправки  запросов на тестовый IP-адрес или IP-адрес шлюза (если тестовый IP-адрес не задан).  
   
**inet dgd next-hop delete** ИМЯ - удалить ранее заданную проверку состояния заданного шлюза.  
   
**inet dgd mode on** или **off** - включить и отключить автоматический запуск службы DGD.  
   
**inet dgd rule add** ИМЯ **action-priority** ПРИОРИТЕТ **service** ДЕЙСТВИЕ - задать действие, которое выполняется в случае совпадения всех состояний шлюзов, заданных командой **inet dgd rule add match-next-hop.** Возможные действия log command <текст сообщения> | route command inet policy active <имя политики> | default.  
   
**inet dgd rule add** ИМЯ_ПРАВИЛА **match-next-hop** ИМЯ_ШЛЮЗА **up** или **down** - добавить в правило проверки состояния шлюзов, заданных командой **inet dgd next-hop add**.  
   
**inet dgd rule clear** - удалить все проверки и действия из ранее заданных правил шлюзов.  
   
**inet dgd rule delete** ИМЯ_ПРАВИЛА action-priority ПРИОРИТЕТ - удалить действия, ранее заданные командой **inet dgd rule add action-priority.**  
   
**inet dgd rule delete** ИМЯ_ПРАВИЛА **match-next-hop** ИМЯ_ШЛЮЗА **up** или **down** - удалить конкретный шлюз из правила проверки состояния шлюзов, заданный командой **inet dgd next-hop add.**  
   
**inet dhcp client route-default-metric** МЕТРИКА - изменить значение метрики по умолчанию для маршрутов, поступающих от DHCP-сервера. Метрика может быть от 1 до 255.  
   
**inet dhcp client route-distance** ДИСТАНЦИЯ -  задать административную дистанцию маршрутам, поступающим от DHCP-сервера. Дистанция может быть от 1 до 255.  
   
**inet dhcp relay** НОМЕР_КОПИИ **add backup-interface** ИНТЕРФЕЙС **server** АДРЕС - добавить сетевой интерфейс, через который служба DHCP-relay связывается с запасным DHCP-сервером.  
   
**inet dhcp relay** НОМЕР_КОПИИ **add external-interface** ИНТЕРФЕЙС **server** АДРЕС - добавить сетевого интерфейса, через который служба DHCP-relay связывается с внешним DHCP-сервером.  
   
**inet dhcp relay** НОМЕР_КОПИИ **add listen-interface** ИНТЕРФЕЙС - добавить интерфейс в список интерфейсов, принимающих запросы от DHCP-клиентов для их последующей ретрансляции на внешний DHCP-сервер.  
   
**inet dhcp relay** НОМЕР_КОПИИ **delete backup-interface** ИНТЕРФЕЙС **server** АДРЕС - удалить сетевой интерфейс, через который служба DHCP-relay связывается с запасным DHCP-сервером.  
   
**inet dhcp relay** НОМЕР_КОПИИ **delete external-interface** ИНТЕРФЕЙС **server** АДРЕС - удалить сетевого интерфейса, через который служба DHCP-relay связывается с внешним DHCP-сервером.  
   
**inet dhcp relay** НОМЕР_КОПИИ  **delete listen-interface** ИНТЕРФЕЙС- удалить интерфейс из списка интерфейсов, принимающих запросы от DHCP-клиентов для их последующей ретрансляции на внешний DHCP-сервер.  
   
**inet dhcp relay mode on** или **off** - включить или выключить автоматический запуск службы DHCP-relay.  
   
**inet dhcp relay reset** - завершить работу службы DHCP-relay с последующим сбросом её настроек и выключением автозапуска службы.  
   
**inet dhcp relay start** - запуск службы DHCP-relay.  
   
**inet dhcp relay stop** - остановка службы DHCP-relay.  
   
**inet dhcp server add broadcast** IP_АДРЕС - задать широковещательный IP-адреса, передаваемый DHCP-  
сервером своим клиентам.  
   
**inet dhcp server add default-lease-time** ВРЕМЯ ПАРАМЕТРЫ - задать значение по умолчанию времени аренды IP-адресов. В качестве параметров можно указать **interface** <интерфейс> | **remote subnet** <подсеть> **mask** <маска> | **host** <имя узла>.  
   
**inet dhcp server add dns** IP_АДРЕС ПАРАМЕТРЫ - задать IP-адреса DNS-сервера, передаваемого DHCP-сервером своим клиентам. В качестве параметров можно указать **interface** <интерфейс> | **remote subnet** <подсеть> **mask** <маска> | **host** <имя узла>.  
   
**inet dhcp server add domain** ИМЯ_ДОМЕНА - задать именя домена, передаваемого DHCP-сервером своим клиентам.  
   
**inet dhcp server add host** ИМЯ_УЗЛА hardware MAC_АДРЕС address IP_АДРЕС -  резервировать DHCP-сервером IP-адреса сетевого узла с заданными доменным именем и MAC-адресом.  
   
**inet dhcp server add interface** ИНТЕРФЕЙС - задать рабочий интерфейс DHCP-сервера.  
   
**inet dhcp server add max-lease-time** ВРЕМЯ - задать временя аренды IP-адресов, выделяемых DHCP-сервером своим клиентам.  
   
**inet dhcp server add ntp** IP_АДРЕС - задать IP-адрес NTP-сервера, передаваемого DHCP-сервером своим клиентам.  
   
**inet dhcp server add option** НОМЕР_ОПЦИИ IP_АДРЕС - добавить опцию DHCP-сервера. Вместо IP может быть ascii или hex.  
   
**inet dhcp server add range** НАЧАЛО КОНЕЦ - задать диапазон IP-адресов, выделяемых DHCP-сервером.  
   
**inet dhcp server add relay-interface** ИНТЕРФЕЙС - задать сетевой интерфейс DHCP-сервера.  
   
**inet dhcp server add router** IP_АДРЕС - задать IP-адрес шлюза по умолчанию, передаваемого DHCP-сервером своим клиентам.  
   
**inet dhcp server add subnet-mask** МАСКА_ПОДСЕТИ - задать маску подсети, передаваемую DHCP-сервером.  
   
**inet dhcp server add tftp** ИМЯ_СЕРВЕРА или АДРЕС_СЕРВЕРА file ПУТЬ_К_ФАЙЛУ - задать IP-адрес или имя TFTP-сервера, а также имя передаваемого файла.  
   
**inet dhcp server add voip** АДРЕС_СЕРВЕРА - задать IP-адрес TFTP-сервера Cisco VoIP.  
   
**inet dhcp server add wins** АДРЕС_СЕРВЕРА - добавить адрес WINS-сервера.  
   
**inet dhcp server delete broadcast** ПАРАМЕТРЫ - Удалить широковещательный IP-адрес, передаваемый DHCP-сервером. Параметры могут быть следующими **interface** <интерфейс> | **remote subnet** <подсеть> **mask** <маска> | **host** <имя узла>.  
   
**inet dhcp server delete default-lease-time** - удалить значение по умолчанию времени аренды IP-адресов, выделяемых DHCP-сервером.  
   
**inet dhcp server delete dns** IP_АДРЕС - удалить IP-адреса DNS-сервера, передаваемого DHCP-сервером.  
   
**inet dhcp server delete domain** - удалить имя домена, передаваемого DHCP-сервером.  
   
**inet dhcp server delete host** - удалить зарезервированный DHCP-сервером IP-адрес сетевого узла с заданными доменным именем и MAC-адресом.  
   
**inet dhcp server delete interface** ИНТЕРФЕЙС - удалить рабочий интерфейс DHCP-сервера.  
   
**inet dhcp server delete max-lease-time** - удалить ранее заданное время аренды IP-адресов, выделяемых DHCP-сервером.  
   
**inet dhcp server delete ntp** IP_АДРЕС - удалить IP-адрес NTP-сервера, передаваемого DHCP-сервером.  
   
**inet dhcp server delete option** НОМЕР - удалить опцию DHCP-сервера.  
   
**inet dhcp server delete range** НАЧАЛО КОНЕЦ - удалить диапазон IP-адресов, выделяемых DHCP-сервером.  
   
**inet dhcp server delete relay-interface** ИНТЕРФЕЙС - удалить сетевой интерфейс DHCP-сервера.  
   
**inet dhcp server delete router** IP_АДРЕС  - удалить IP-адрес шлюза по умолчанию, передаваемого DHCP-сервером.  
   
**inet dhcp server delete subnet-mask** ПАРАМЕТРЫ - удалить маску подсети, передаваемую DHCP-сервером. Параметры могут быть **interface** <интерфейс> или **remote subnet** <подсеть> **mask** <маска> или **host** <имя узла>.  
   
**inet dhcp server delete tftp** - удалить настройки TFTP-сервера, передаваемого DHCP-сервером.  
   
**inet dhcp server delete voip** АДРЕС_СЕРВЕРА - удалить IP-адрес TFTP-сервера Cisco VoIP.  
   
**inet dhcp server delete wins** АДРЕС_СЕРВЕРА - удалить адрес WINS-сервера.  
   
**inet dhcp server mode on** или **off** - включить или выключить автоматический запуск DHCP-сервера при загрузке координатора.  
   
**inet dhcp server reset** - сбросить настройки, остановить и отключить автоматический запуск DHCP-сервера.  
   
**inet dhcp server start** - запуск DHCP-сервера.  
   
**inet dhcp server stop** - остановка DHCP-сервера.  
   
**inet dns clients add** АДРЕС и ДЛИНА_МАСКИ или **any** -  добавить заданный адрес или подсеть в список клиентов DNS-сервера.  
   
**inet dns clients delete** АДРЕС и ДЛИНА_МАСКИ или **any** - удалить заданный адрес или подсеть в список клиентов DNS-сервера.  
   
**inet dns clients list** - просмотр текущего списка DNS-клиентов.  
   
**inet dns forwarders add** АДРЕС **for-zone** ИМЯ_ЗОНЫ - добавить сервер с заданным адресом в список DNS-серверов перенаправления.  
   
**inet dns forwarders delete** АДРЕС **for-zone** ИМЯ_ЗОНЫ - удалить сервер с заданным адресом в список DNS-серверов перенаправления.  
   
**inet dns forwarders list** - просмотр текущего списка DNS-серверов пересылки.  
   
**inet dns mode on** или **off** - включить или выключить автоматический запуск DNS-сервера.  
   
**inet dns start** - запуск DNS-сервера.  
   
**inet dns stop** - остановка DNS-сервера.  
   
**inet ifconfig** ИНТЕРФЕЙС **address** IP_АДРЕС **netmask** МАСКА - установить параметры заданного интерфейса.  
   
**inet ifconfig** ИНТЕРФЕЙС **address add** IP_АДРЕС **netmask** МАСКА - добавить дополнительный IP-адрес на заданный интерфейс.  
   
**inet ifconfig** ИНТЕРФЕЙС **address delete** IP_АДРЕС **netmask** МАСКА - удалить дополнительный IP-адрес на заданный интерфейс. В некоторых случаях может потребоваться отключение интерфейса для выполнение этой операции.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding add** ПОДЧИНЕННЫЙ ИНТЕРФЕЙС - добавить подчиненный физический интерфейс к уже имеющемуся агрегированному.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding ad-select** РЕЖИМ - задать режим выбора активного агрегатора на агрегированном интерфейсе, работающем в режиме 802.3ad.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding delete** ПОДЧИНЕННЫЙ ИНТЕРФЕЙС - удалить подчиненный интерфейс из агрегированного.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding lacp-rate slow** или **fast** - задать частоты обмена пакетами по протоколу LACP для агрегированных интерфейсов, работающих в режиме 802.3ad.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding miimon** ИНТЕРВАЛ - задать частоту проверки соединения на подчиненных физических интерфейсах.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding primary** ПОДЧИНЕННЫЙ ИНТЕРФЕЙС или **none** - настроить агрегированный интерфейс, работающий в режиме **balance-tlb** или **active-backup**.  
   
**inet ifconfig** ИНТЕРФЕЙС **bonding xmit-hash-policy layer2** или **layer2+3** или **layer3+4** - настроить агрегированный интерфейс, работающий в режиме balance-xor или 802.3ad.  
   
**inet ifconfig** ИНТЕРФЕЙС **class access** или **trunk** или **slave** - установить класс заданного интерфейса.  
   
**inet ifconfig** ИНТЕРФЕЙС **dhcp on** или **off** - установить режим DHCP на заданном интерфейсе.  
   
**inet ifconfig** ИНТЕРФЕЙС **dhcp route-metric** МЕТРИКА(1-255) - задать специфичную метрику маршрута.  
   
**inet ifconfig** ИНТЕРФЕЙС **down** - выключить заданный интерфейса.  
   
**inet ifconfig** ИНТЕРФЕЙС **mtu** ЗНАЧЕНИЕ_MTU или **auto** - изменить значение MTU заданному интерфейсу.  
   
**inet ifconfig** ИНТЕРФЕЙС **reset** - сбросить настройки интерфейса.  
   
**inet ifconfig** ИНТЕРФЕЙС **speed** СКОРОСТЬ **duplex half** или **full autoneg on** или **off** -  установить параметры скорости заданного интерфейса.  
   
**inet ifconfig** ИНТЕРФЕЙС speed auto -  установить на заданный интерфейс режим автоматического определения параметров скорости.  
   
**inet ifconfig** ИНТЕРФЕЙС **up** - включить заданный интерфейс.  
   
**inet ifconfig** ИНТЕРФЕЙС **vlan add** НОМЕР - создать интерфейс для виртуальной сети.  
   
**inet ifconfig** ИНТЕРФЕЙС **vlan delete** НОМЕР - удалить заданный виртуальный интерфейс.  
   
**inet ntp add server** или **peer** АДРЕС или DNS_ИМЯ - добавить сервер с заданным адресом в список NTP-серверов.  
   
**inet ntp delete server** или **peer** АДРЕС или DNS_ИМЯ - удалить сервер с заданным адресом в список NTP-серверов.  
   
**inet ntp list** - просмотр текущего списка NTP-серверов.  
   
**inet ntp mode on или off** - включить или выключить автоматический запуск NTP-сервера.  
   
**inet ntp orphan on** УРОВЕНЬ или **off** - включить и выключить переход локального NTP-сервера в изолированный режим при потере соединения с внешними NTP-серверами. Уровень может быть от 1 до 10.  
   
**inet ntp start** - запуск NTP-сервера.  
   
**inet ntp stop** - остановка NTP-сервера.  
   
**inet ospf mode on** или **off** - включить или выключить использование протокола OSPF.  
   
**inet ospf network add** IP_АДРЕС_НАЗНАЧЕНИЯ **netmask** МАСКА area ОБЛАСТЬ_МАРШРУТИЗАЦИИ - добавить сеть, в которой должна осуществляться маршрутизация по протоколу OSPF. Область машрутизации 0-4294967295.  
   
**inet ospf network delete** IP_АДРЕС_НАЗНАЧЕНИЯ **netmask** МАСКА area ОБЛАСТЬ_МАРШРУТИЗАЦИИ - удалить сеть, в которой должна осуществляться маршрутизация по протоколу OSPF. Область машрутизации 0-4294967295.  
   
**inet ospf redistribute add static** или **dhcp** - включить перераспределение статических маршрутов или маршрутов DHCP-сервера.  
   
**inet ospf redistribute delete static** или **dhcp** - выключить перераспределение статических маршрутов или маршрутов DHCP-сервера.  
   
**inet ping** IP_АДРЕС - проверка соединения с заданным IP-адресом (открытая сеть или туннели). Для проверки связи с виртуальным IP-адресом используйте команду **iplir ping**.  
   
**inet policy active** ИМЯ_ПОЛИТИКИ или **default** - задать действующую политику маршрутизации.  
   
**inet policy rule add** ИМЯ_ПОЛИТИКИ ПРИОРИТЕТ **match** (address from или to IP_АДРЕС_С_МАСКОЙ) или (inbound-interface ИНТЕРФЕЙС или outbound-interface ИНТЕРФЕЙС) или (dscp ЗНАЧЕНИЕ) - задать правило, определяющее условие выполнения политики маршрутизации.  
   
**inet policy rule add** ИМЯ_ПОЛИТИКИ ПРИОРИТЕТ **table name** (ИМЯ_ТАБЛИЦЫ или НОМЕР_ТАБЛИЦЫ или default) или block - задать пользовательскую таблицу маршрутизации, по которой будут обрабатываться IP-пакеты, попадающие под действие ранее заданной политики маршрутизации.  
   
**inet policy rule clear** ИМЯ_ПОЛИТИКИ **priority** ПРИОРИТЕТ - удалить все правила, заданные в указанной политике маршрутизации.  
   
**inet policy rule delete** ИМЯ_ПОЛИТИКИ ПРИОРИТЕТ **match** (address from или to IP_АДРЕС_С_МАСКОЙ) или (inbound-interface ИНТЕРФЕЙС или outbound-interface ИНТЕРФЕЙС) или (dscp ЗНАЧЕНИЕ) - удалить правило, определяющее условие выполнения политики маршрутизации.  
   
**inet policy rule delete** ИМЯ_ПОЛИТИКИ ПРИОРИТЕТ **table name** (ИМЯ_ТАБЛИЦЫ или НОМЕР_ТАБЛИЦЫ или default) или block - удалить правило, в котором задана пользовательская таблица маршрутизации, по которой будут обрабатываться IP-пакеты, попадающие под действие ранее заданной политики маршрутизации.  
   
**inet route add** (IP_АДРЕС_НАЗНАЧЕНИЯ netmask МАСКА) или **default next-hop** IP_адрес_шлюза **distance** ЗНАЧЕНИЕ(1-255) weight ЗНАЧЕНИЕ(1-255) -  добавить статический маршрут, в том числе в пользовательские таблицы маршрутизации.  
   
**inet route clear** - удалить все маршруты, в том числе маршрута по умолчанию.  
   
**inet route delete** IP_адрес_назначения **netmask маска next-hop** IP_адрес_шлюза - удалить маршрут.  
   
**inet show dgd configuration** - просмотр параметров службы DGD.  
   
**inet show dgd next-hop** ИМЯ_ШЛЮЗА - просмотр параметров шлюза.  
   
**inet show dgd rule** ИМЯ_ПРАВИЛА - просмотр параметров правил службы DGD.  
   
**inet show dhcp client** - просмотр настроек DHCP на сетевых интерфейсах.  
   
**inet show dhcp server** - просмотр настроек DHCP-сервера и его текущего состояния.  
   
**inet show dhcp server lease last** или **all** или **full** - просмотр клиентов DHCP-сервера.  
   
**inet show dhcp relay** НОМЕР_КОПИИ - просмотр настроек службы DHCP-relay и ее текущего состояния.  
   
**inet show dns** - просмотр текущего состояния DNS-сервера.  
   
**inet show interface** ИМЯ_ИНТЕРФЕЙСА или ИМЯ_ИНТЕРФЕЙС:НОМЕР - просмотр параметров заданного интерфейса и его текущего состояния.  
   
**inet show mac-address-table** (interface ИНТЕРФЕЙС) или (vlan ИНТЕРФЕЙС_VLAN) или (hwaddress MAC_АДРЕС) или (address IP_АДРЕС) - просмотр ARP-таблицы с возможностью фильтрации вывода по различным параметрам.  
   
**inet show ntp** - просмотр настроек NTP-сервера и его текущего состояния.  
   
**inet show ospf configuration** - просмотр настроек протокола OSPF.  
   
**inet show ospf database** - просмотр информации о состоянии каналов связей между всеми OSPF-маршрутизаторами в базе данных.  
   
**inet show ospf neighbour** - просмотр сведений о соседних OSPF-маршрутизаторах.  
   
**inet show policy rule** - active или all или имя_политики - просмотр правил, созданных для ранее заданных политик маршрутизации.  
   
**inet show routing** - просмотр содержимого общей таблицы маршрутизации.  
   
**inet show snmp** - просмотр информации о текущем состоянии SNMP-агента.  
   
**inet show snmp community** - просмотр следующих паролей для авторизации на удаленной станции сетевого менеджмента или текущего пароля доступа к SNMP-параметрам.  
   
**inet show usb-modem** - просмотр информации о модеме.  
   
**inet show usb-modem chatscript** - просмотр текста скрипта, используемого 3G-модемом для установления соединения с сетью.  
   
**inet show usb-modem config** - просмотр конфигурации текущего мобильного оператора.  
   
**inet show usb-modem providers** - просмотр списка имен мобильных операторов.  
   
**inet show vlan** - просмотр списка существующих виртуальных интерфейсов.  
   
**inet snmp community ro** - задать пароль доступа к SNMP-параметрам.  
   
**inet snmp community trap** - задать пароль, используемый при авторизации на удаленной станции сетевого менеджмента.  
   
**inet snmp debug-level** - задать события SNMP-агента.  
   
**inet snmp mode on или off** - включить или выключить запуск SNMP-агента.  
   
**inet snmp start** - запустить встроенный SNMP-агент.  
   
**inet snmp stop** - остановить встроенный SNMP-агент.  
   
**inet snmp trapsink** IP_АДРЕС или ХОСТ или null - задать сетевой узел, на который будут направляться оповещения по  
протоколу SNMP.  
   
**inet ssh** (host IP_АДРЕС или ДОМЕННОЕ_ИМЯ) или ( id ИДЕНТИФИКАТОР) **user** ПОЛЬЗОВАТЕЛЬ **port** ПОРТ - удаленный доступ по SSH к заданному компьютеру.  
   
**inet usb-modem add provider** ОПЕРАТОР -  добавить нового оператора в список мобильных операторов.  
   
**inet usb-modem delete provider** ОПЕРАТОР - удалить оператора из списка мобильных операторов.  
   
**inet usb-modem mode on или off** - включить или выключить 3G-модем.  
   
**inet usb-modem modify chatscript** - редактировать скрипт, используемый 3G-модемом для установления соединения с сетью.  
   
**inet usb-modem modify config** - редактировать конфигурацию текущего мобильного оператора в текстовом редакторе.  
   
**inet usb-modem reset pin** - удалить ПИН-код, заданного с помощью команды **inet usb-modem set pin**.  
   
**inet usb-modem set connection address** IP_адрес или хостнейм - задать сервер, используемый для соединения с сетью текущего мобильного оператора.  
   
**inet usb-modem set dns on** или **off** - разрешить или запретить обращение к DNS-серверу, информация о котором поступает от мобильного оператора.  
   
**inet usb-modem set password** ПАРОЛЬ - задать пароль пользователя, используемый при аутентификации во  
время звонка по телефонному номеру текущего оператора связи.  
   
**inet usb-modem set phone** ТЕЛЕФОН - задать телефонный номер текущего мобильного оператора, необходимый при подключении через 3G-модем.  
   
**inet usb-modem set pin** ПИН_КОД - задать ПИН-код, с помощью которого ViPNet Coordinator HW получает доступ к SIM-карте оператора связи.  
   
**inet usb-modem set provider** ОПЕРАТОР - задать текущего мобильного оператора при подключении через 3G-модем.  
   
**inet usb-modem set route on** или **off** - включить или выключить автоматическое добавление маршрута по умолчанию, в котором в качестве шлюза используется данный шлюз. При первом подключении модема к сети 3G-модем получает от мобильного оператора адрес шлюза, через который предлагается выполнять соединение.  
   
**inet usb-modem set route-metric** ЧИСЛО(1-255) или none - задать метрику маршруту по умолчанию.  
   
**inet usb-modem set user** ИМЯ - задать имя пользователя для аутентификации.  
   
**inet vlan** НОМЕР **comment add** КОММЕНТАРИЙ - добавить комментарий к виртуальной сети с заданным номером.  
   
**inet vlan** НОМЕР **comment delete** - удалить комментарий к виртуальной сети с заданным номером.  
   
**inet wifi access-point channel** НОМЕР - задать номер канала Wi-Fi.  
   
**inet wifi access-point hwmode b** или **g** - задать стандарт сети Wi-Fi.  
   
**inet wifi access-point show** - просмотр списка подключенных клиентов Wi-Fi.  
   
**inet wifi client** или **access-point authentication open** или **wpa-psk** или **wpa2-psk** - задать настройки Wi-Fi.  
   
**inet wifi mode on** или **off** - включить или выключить беспроводной сетевой интерфейс Wi-Fi.  
   
**inet wifi role access-point** или **client** - режим работы.  
   
**inet wifi scan** - просмотр доступных сетей Wi-Fi.
# iplir  
   
`iplir config` - редактировать конфигурацию iplir.  
   
`iplir config ИНТЕРФЕЙС или ГРУППА_ИНТЕРФЕЙСОВ` - редактировать конфигурацию iplir определенного интерфейса.  
   
`iplir adapter add ИНТЕРФЕЙС traffic on или off` - добавить новый сетевой интерфейс.  
   
`iplir adapter delete ИНТЕРФЕЙС` - удалить сетевой интерфейс.  
   
`iplir adapter traffic ИНТЕРФЕЙС on или off` - включить или выключить прохождение IP-трафика через заданный сетевой интерфейс.  
   
`iplir info ИНТЕРФЕЙС или ГРУППА_ИНТЕРФЕЙСОВ` - просмотр информации о своем узле и количестве туннельных соединений.  
   
`iplir option get ПАРАМЕТР` - просмотр текущего состояния или значения одного из параметров (antispoofing, block-fragmented-packets, pass-unknown-vipnet-packets, block-other-protocols, cleanup-interval, connection-ttl-ip, connection-ttl-tcp, connection-ttl-udp, dynamic-ports, dynamic-timeouts, max-connections).  
   
`iplir option set antispoofing on или off` - включить или выключить антиспуфинг.  
   
`iplir option set block-fragmented-packets on или off` - включить или выключить блокирование входящих фрагментированных IP-пакетов, которые принимаются по всем сетевым интерфейсам.  
   
`iplir option set block-other-protocols on или off` - включить или выключить блокирование IP-пакетов, которые передаются по протоколам, отличным от IP, ARP или RARP.  
   
`iplir option set cleanup-interval ЗНАЧЕНИЕ` - задать время, по истечении которого будут удаляться устаревшие соединения (с истекшим тайм-аутом).  
   
`iplir option set connection-ttl-ip ЗНАЧЕНИЕ` - задать время жизни соединения по протоколу IP при отсутствии активности в нем.  
   
`iplir option set connection-ttl-tcp ЗНАЧЕНИЕ` - задать время жизни соединения по протоколу tcp при отсутствии активности в нем.  
   
`iplir option set connection-ttl-udp ЗНАЧЕНИЕ` - задать время жизни соединения по протоколу udp при отсутствии активности в нем.  
   
`iplir option set dynamic-ports ПОРТ1-ПОРТ2` - задать диапазон портов, используемых для динамической трансляции IP-адресов.  
   
`iplir option set dynamic-timeouts on или off` - включить или выключить режим динамических тайм-аутов соединений.  
   
`iplir option set max-connections КОЛИЧЕСТВО` - задать максимальное количество параллельно установленных  
соединений.  
   
`iplir option set pass-unknown-vipnet-packets on или off` - включить или выключить обработку защищенных IP-пакетов для  
узлов ViPNet в соответствии с транзитными правилами открытой сети.  
   
`iplir ping ИДЕНТИФИКАТОР` - проверка соединения с заданным сетевым узлом ViPNet.  
   
`iplir set cipher-mode gost-ctr или gost-cfb` - режим шифрования (гаммирование GOST-CTR или гаммирование с обратной связью GOST-CFB).  
   
`iplir set l2overip interface ИНТЕРФЕЙС` - задать рабочий интерфейс в настройках функции L2OverIP.  
   
`iplir set l2overip local-port ПОРТ IP_АДРЕС` - добавить параметры локального сегмента сети в настройки функции L2OverIP.  
   
`iplir set l2overip mac-ttl ВРЕМЯ` - задать время жизни MAC-адреса в таблице MAC-адресов виртуального коммутатора при отсутствии трафика, поступающего от этого адреса.  
   
`iplir set l2overip mode switch или none` - включить или выключить функцию L2OverIP.  
   
`iplir set l2overip remote-port ПОРТ IP_АДРЕС` - добавить параметры удаленного сегмента сети в настройки L2OverIP.  
   
`iplir set l2overip remote-port ПОРТ delete` - удалить порт с заданным номером из настроек функции L2OverIP.  
   
`iplir set l2overip unsolicited-frames drop или broadcast или smart-broadcast `- задать режим обработки одноадресных Ethernet-кадров с неизвестным MAC-адресом получателя при объединении сегментов сети с помощью функции L2OverIP.  
   
`iplir set thread-count КОЛИЧЕСТВО` -  установить количество потоков в драйвере drviplir.  
   
`iplir show adapter ИНТЕРФЕЙС` - просмотр параметров заданного сетевого интерфейса.  
   
`iplir show adapters` - просмотр всех активных статических и динамических сетевых интерфейсов.  
   
`iplir show adapters groups` - просмотр только активных динамических сетевых интерфейсов.  
   
`iplir show authentication-type` - просмота заданного способа аутентификации пользователя ViPNet Coordinator HW.  
   
`iplir show cipher-mode` - просмотр информации о текущем режиме шифрования.  
   
`iplir show config` - просмотр информации о конфигурации iplir.  
   
`iplir show config ИНТЕРФЕЙС или ГРУППА_ИНТЕРФЕЙСОВ` - просмотр информации о конфигурации iplir определенного интерфейса.  
   
`iplir show firewall status` - просмотр статистики работы межсетевого экрана.  
   
`iplir show key-info` - получить информацию о ключах, установленных на ViPNet Coordinator HW.  
   
`iplir show keys-upgrade-log` - просмотр журнала, в котором содержится информация о принятых обновлениях справочников и ключей.  
   
`iplir show l2overip ОПЦИЯ` - просмотр текущего состояния или настроек функции L2OverIP. Опции: clone-fabric-stats, config, mac-address-table, mac-hash-stats, port-table, status, virtual-switch-stats.  
   
`iplir show tcptunnel-info` - просмотр настроек TCP-туннеля.  
   
`iplir show thread-count` - просмотр количества потоков в драйвере drviplir.  
   
`iplir start` - запустить службу iplir.  
   
`iplir stop` - остановить службу iplir.  
   
`iplir view` -  просмотр журнала регистрации IP-пакетов. 
   
`machine halt` - выключить координатор.  
   
`machine reboot` - перезагрузить координатор.  
   
`machine self-test` - запустить регламентное тестирование.  
   
`machine set dailyreboot mode on или off` - включить или выключить ежедневную перезагрузку.  
   
`machine set dailyreboot time ЧЧ:ММ` - задать время ежедневной перезагрузки.  
   
`machine set date ГГГГ-ММ-ДД ЧЧ:ММ:СС` - задать дату и время на координаторе.  
   
`machine set hostname ИМЯ` - задать хостнейм для координатора.  
   
`machine set loghost IP_адрес или local или null` - задать место хранения системного журнала  
   
`machine set session-timeout ВРЕМЯ` - установить допустимое время неактивности сессии при удаленном подключении к ViPNet Coordinator HW по протоколу SSH.  
   
`machine set timezone ВРЕМЕННАЯ_ЗОНА` - задать часовой пояс. Например, для Красноярска нужно написать Asia/Krasnoyarsk.  
   
`machine show dailyreboot` - просмотр настроек ежедневной перезагрузки.  
   
`machine show date` - показать текущее время и дату, установленные на координаторе.  
   
`machine show hostname` - показать хостнейм.  
   
`machine show loghost` - просмотр места хранения системного журнала.  
   
`machine show logs` - просмотр системного журнала.  
   
`machine show memory` - просмотр информации об использовании оперативной памяти, файла подкачки и файловой системы.  
   
`machine show session-timeout` - просмотр текущего допустимого времени неактивности сессии.  
   
`machine show timezone` - просмотр текущего часового пояса.  
   
`machine show uptime` - показать время бесперебойной работы.  
   
`machine swap mode on или off` - включить или выключить использование файла подкачки.  
   
`machine swap set РАЗМЕР` - задать размера файла подкачки в мегабайтах.  
mftp  
   
`mftp config` - редактировать конфигурацию службы mftp (транспортный модуль).  
   
`mftp info` - просмотр очереди исходящих транспортных конвертов.  
   
`mftp view` - просмотр журнала конвертов транспортного модуля MFTP.  
   
`mftp show config` - просмотр файла конфигурации транспортного модуля.  
   
`mftp start` - запустить службу mftp.  
   
`mftp stop` - остановить службу mftp.  
service  
   
`service http-proxy antivirus bypass on или off` - включить и выключить блокировку трафика, проходящего через  
прокси-сервер при недоступности ICAP-сервера внешнего антивируса.  
   
`service http-proxy antivirus mode on или off` - включить и выключить антивирусную проверку трафика, проходящего через прокси-сервер.  
   
`service http-proxy antivirus server-url add reqmod или respmod URL_АДРЕС` - задать адрес и метод подключения к ICAP-серверу. reqmod — проверяется исходящий трафик. respmod — проверяется входящий трафик. URL задаётся так icap://адрес[:порт]/<путь>.  
   
`service http-proxy antivirus server-url delete reqmod или respmod` - удалить параметры подключения к ICAP-серверу.  
   
`service http-proxy antivirus server-url list` - просмотр текущих настроек доступа к ICAP-серверу антивируса.  
   
`service http-proxy antivirus show-status` - просмотр текущих настроек и состояния антивирусной защиты.  
   
`service http-proxy cache РАЗМЕР` - задать размер кэша прокси-сервера (в мегабайтах).  
   
`service http-proxy content-filter add num НОМЕР rule ИМЯ_ПРАВИЛА src АДРЕС_ОТПРАВИТЕЛЯ dst АДРЕС_ПОЛУЧАТЕЛЯ command HTTP_МЕТОД mime-type ТИП_СОДЕРЖИМОГО ДЕЙСТВИЕ `- добавить правило фильтрации содержимого трафика, передаваемого через прокси-сервер.  
   
`service http-proxy content-filter default-reply-action ДЕЙСТВИЕ` - задать действие по умолчанию для фильтрации ответов от HTTP-ресурсов, передаваемых через прокси-сервер.  
   
`service http-proxy content-filter default-request-action ДЕЙСТВИЕ` - задать действие по умолчанию для фильтрации запросов к HTTP-ресурсам, передаваемых через прокси-сервер.  
   
`service http-proxy content-filter delete rule НОМЕР или ИМЯ_ПРАВИЛА` - удалить правило фильтрации содержимого трафика, передаваемого через прокси-сервер.  
   
`service http-proxy content-filter list` - вывод списка правил фильтрации содержимого трафика, передаваемого через прокси-сервер.  
   
`service http-proxy content-filter mode on или off` - включить или выключить фильтрацию содержимого трафика, передаваемого через прокси-сервер.  
   
`service http-proxy content-filter move ТЕКУЩИЙ_НОМЕР или ИМЯ to НОВЫЙ_НОМЕР` - назначить новый порядковый номер правилу контроля фильтрации трафика, передаваемого через прокси-сервер.  
   
`service http-proxy content-filter show-status` - вывод информации о статусе фильтрации содержимого трафика, передаваемого через прокси-сервер.  
   
`service http-proxy external-address set ИНТЕРФЕЙС` - задать внешний IP-адрес прокси-сервера.  
   
`service http-proxy external-address show` - просмотр внешнего IP-адреса прокси-сервера.  
   
`service http-proxy fw-rules apply` - автоматическое создание сетевых фильтров и правил трансляции адресов, соответствующих текущим настройкам прокси-сервера.  
   
`service http-proxy fw-rules delete` - удалить сетевые фильтры и правила трансляции адресов, необходимых для работы прокси-сервера.  
   
`service http-proxy fw-rules show` - просмотр существующих сетевых фильтров и правил трансляции адресов, необходимых для работы прокси-сервера.  
   
`service http-proxy listen-address add ИНТЕРФЕЙС ПОРТ` - добавить интерфейс и порт, через которые будут приниматься запросы от клиентов прокси-сервера.  
   
`service http-proxy listen-address delete ИНТЕРФЕЙС` - удалить из списка интерфейс и порт, через которые не должны приниматься запросы от клиентов прокси-сервера.  
   
`service http-proxy listen-address list` - просмотр текущего списка адресов интерфейсов и портов, через которые принимаются запросы от клиентов прокси-сервера.  
   
`service http-proxy mode on или off` - включить или выключить автоматический запуск прокси-сервера.  
   
`service http-proxy reset` - очистить текущие настройки прокси-сервера.  
   
`service http-proxy show` - просмотр текущих настроек прокси-сервера и его состояния.  
   
`service http-proxy start` - запустить прокси-сервер.  
   
`service http-proxy stop` - остановить прокси-сервер.  
   
`service http-proxy transparent-mode on или off` -  включить или выключить «прозрачный» режим работы прокси-сервера.  
ups  
   
`ups set driver` - настройка взаимодействия с источником бесперебойного питания (UPS).  
   
`ups set mode master или slave IP_АДРЕС_МАСТЕРА` - установить режим взаимодействия с UPS.  
   
`ups set monitoring on или off` - включить или выключить мониторинг состояния UPS.  
   
`ups show config` - просмотр текущих настроек взаимодействия с UPS.  
   
`ups show status` - просмотр текущего состояния UPS.  
   
`ups start` - запустить службу NUT, которая обеспечивает взаимодействие с UPS.  
   
`ups stop` - остановить службу NUT, которая обеспечивает взаимодействие с UPS.  

# vpn  
   
`vpn start` - запустить все драйвера и службы координатора.  
   
`vpn stop` - остановить все драйвера и службы координатора.  

# webui  
   
`webui restart` - перезапустить службы веб-интерфейса.  
   
`webui status `- состояние службы веб-интерфейса.  
Прочие команды  
   
`debug off` - выключить вывод сообщений о событиях.  
   
`debug on` - включить вывод сообщений о событиях.  
   
`enable` - переход в режим администратора.  
   
`exit` - выход из текущего командного интерпретатора.  
   
`version` - отобразить версию программного обеспечения координатора.  
   
`version features list` - просмотр списка функциональных модулей, входящих в состав текущей версии ViPNet Coordinator HW.  
   
`who` - просмотр информации о запущенных сессиях командного интерпретатора (локальной и всех удаленных).