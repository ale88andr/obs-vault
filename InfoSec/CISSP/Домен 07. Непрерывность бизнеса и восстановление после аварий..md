
Прибыль любой компании и ее существование на рынке зависят от ресурсов, персонала и непрерывного выполнения ежедневных задач. У большинства компаний есть материальные ресурсы, интеллектуальная собственность, компьютеры, коммуникационные каналы, здания. Если хотя бы что-то одно из этого перечня повреждено или недоступно по той или иной причине, компании может быть нанесен ущерб. Если повреждено или недоступно более одного пункта из этого списка, в компании может возникнуть чрезвычайная ситуация. Если чрезвычайная ситуация продолжается длительное время, это может стать катастрофой для компании.

## 1. Непрерывность бизнеса и восстановление после аварий

Целью восстановления после аварий ( disaster recovery) является снижение влияния аварии и выполнение шагов, необходимых для максимально быстрого восстановления деятельности компании, доступности необходимых для этого ресурсов, бизнес-процессов и персонала. Целью плана `DRP` (disaster recovery plan – план восстановления после аварий) является выполнение правильных действий сразу после возникновения аварии; обычно план `DRP` связан в первую очередь с информационными технологиями.

Работа по плану `DRP` выполняется, пока что-то находится в аварийном состоянии, и кто-то работает над тем, чтобы вернуть все критичные системы в нормальную работу. `BCP` (business continuity plan – план обеспечения непрерывности бизнеса) использует более широкий подход к этой проблеме. Работа по плану `BCP` включает перевод критичных систем в другую среду на время восстановления основной среды, обеспечение наличия нужных людей на нужных местах, выполнение основной деятельности компании в аварийном режиме, пока не будут восстановлены обычные условия. `BCP` также может включать в себя взаимодействие с клиентами, партнерами и акционерами с помощью различных каналов, пока все не вернется в нормальное состояние. `DRP` отвечает на вопрос: «*О, ужас! Небеса упали на землю! Как мы будем ставить их на место?*», а `BCP` отвечает на другой вопрос: «*Итак, небеса упали на землю. Как наша компания будет продолжать свою деятельность, чтобы остаться на рынке, пока кто-то будет ставить небеса на место?*».

Для компании, которая имеет множество различных секретов, очень важно обеспечить конфиденциальность и целостность данных и систем даже в случае, если люди и сама компания находятся в сложном положении. Доступность – это один из основных аспектов планирования непрерывности бизнеса, требуется обеспечить гарантии постоянной доступности критичных ресурсов людям и системам, которым они необходимы. Для этого может потребоваться надлежащее выполнение резервного копирования, обеспечение избыточности в архитектуре систем, сетей и выполняемой деятельности. На случай недоступности коммуникационных каналов в течение длительного периода времени, должен существовать быстрый и проверенный способ создания альтернативных коммуникаций и связанных с ними сервисов.

Планирование непрерывности бизнеса. Заранее запланированные процедуры позволяют компании:
	• Обеспечить немедленную и правильную реакцию в чрезвычайной ситуации
	• Защитить жизни людей и гарантировать их безопасность
	• Минимизировать негативное влияние на бизнес компании
	• Возобновить выполнение критичных для бизнеса функций
	• Воспользоваться услугами внешних поставщиков на период восстановления
	• Снизить беспорядок и неразбериху во время кризиса
	• Обеспечить выживание бизнеса компании
	• Обеспечить максимально быстрое восстановление функционирования после аварии Должны быть приняты, в частности, следующие решения:
	• Позволить бизнес-партнерам знать о готовности вашей компании к чрезвычайным ситуациям
	• Повысить доверие со стороны акционеров и правления информированием их о готовности к чрезвычайным ситуациям
	• Выполнить требования отраслевых регуляторов в области ВСР (при наличии таких требований)

### 1.1. Шаги планирования непрерывности бизнеса

1. **Разработать политику планирования непрерывности бизнеса** (continuity planning policy statement). Написать политику, которая будет содержать необходимые руководящие принципы для разработки плана ВСР и определит необходимые ролям полномочия для выполнения возложенных на них задач.
2. **Провести Анализ воздействия на бизнес** (BIA – business impact analysis). Идентифицировать критичные функции и системы, категорировать (приоритезировать) их на основе степени их критичности. Выявить уязвимости и угрозы, рассчитать риски.
3. **Определить превентивные защитные меры.** После выявления угроз, выбрать и внедрить защитные меры и контроли для снижения уровня рисков компании экономически целесообразным способом.
4. **Разработать стратегии восстановления** (recovery strategy). Описать методы, обеспечивающие оперативное восстановление работоспособности критичных систем и функций.
5. **Разработать план действий на случай чрезвычайных ситуаций** ( contingency plan). Описать процедуры, разработать руководства, которые обеспечат продолжение функционирования компании в аварийном состоянии.
6. **Протестировать план, провести тренинги и учения.** Проверить план для выявления недостатков в нем, провести тренинги и учения для надлежащей подготовки людей к выполнению задач на случай чрезвычайной ситуации.
7. **Поддерживать актуальность плана.** Предпринять шаги для своевременной актуализации плана.

![[Pasted image 20241114090624.png]]

## 2. Требования к планированию непрерывности бизнеса

Поддержка руководства является основным требованием для всего, что имеет столь далеко идущие последствия, как планирование непрерывности бизнеса. Крайне важно, чтобы руководство понимало, что реально угрожает компании, каковы последствия реализации этих угроз, каковы масштабы потенциального ущерба от реализации каждой угрозы.

Руководители несут ответственность в соответствии с различными законами и постановлениями. Они могут быть привлечены к суду акционерами и клиентами, если не обеспечивают должную заботу (due care) и осмотрительность (due diligence), и не выполняют свои обязанности в отношении восстановления после аварий и обеспечения непрерывности бизнеса. В некоторых отраслях к компаниям предъявляются жесткие требования регуляторов и законодательства, которым они обязаны следовать. Эти требования должны быть проанализированы и с самого начала предусмотрены в плане. Например, банки и инвестиционные компании должны гарантировать, что даже при возникновении чрезвычайной ситуации к конфиденциальной информации их клиентов не получат доступ неуполномоченные лица, она не будет искажена и т.п. Работы по планированию восстановления после аварий и обеспечению непрерывности бизнеса выполняются лучше всего при использовании подхода «сверху вниз», а не наоборот. Именно руководство должно управлять этим проектом, а не рядовой персонал компании.

### 2.1. Анализ воздействия на бизнес

Планирование непрерывности бизнеса связано с неизвестностью и вероятностью. Конечно, вы не можете предсказать, где и когда случится чрезвычайная ситуация, но это не значит, что вам не нужно готовить план на этот случай. Для создания плана непрерывности бизнеса нужно попытаться продумать все возможные аварии и чрезвычайные ситуации, которые могут произойти, оценить их потенциальные последствия и ущерб от них, категорировать и приоритезировать их, разработать реальные альтернативы на случай, если такая авария или чрезвычайная ситуация действительно произойдет.

**BIA** (business impact analysis – анализ влияния на бизнес) – это функциональный анализ, в процессе которого команда собирает данные, проводя интервью и анализируя документальные источники; документирует бизнес-функции, действия и транзакции; разрабатывает иерархию бизнес-функций; и, наконец, определяет уровень критичности каждой отдельной функции с помощью порядка классификации. Но как определить этот порядок классификации, основанный на уровнях критичности? Комитет ВСР должен идентифицировать угрозы, перед лицом которых стоит компания, и определить для них следующие характеристики:
- Максимально допустимое время простоя
- Нарушение работы и снижение производительности
- Возмещение финансовых убытков (financial consideration)
- Ответственность, установленная законодательством и регуляторами
- Репутация

Угрозы могут быть рукотворными, природными или техническими. Рукотворными угрозами могут быть поджоги, террористичесие акты или просто ошибки, приводящие к серьезным последствиям. Природными угрозами могут быть торнадо, наводнения, ураганы или землятрясения. Техническими угрозами могут быть повреждения данных, перебои электроснабжения, неисправности устройств, нарушения работы коммуникационных каналов. Важно выявить все возможные угрозы и рассчитать вероятность их реализации. Некоторые угрозы могут показаться неразумными и надуманными, например, злоумышленные действия сотрудников, вандализм, протесты сотрудников, атаки хакеров и т.п., но эти угрозы также должны быть идентифицированы. Для анализа угроз лучше использовать подход, основанный на сценариях их реализации. Это позволит наиболее полно учесть при подготовке плана влияние этих угроз на задачи бизнеса, подразделения и критичные операции компании. Чем больше угроз учтет компания при планировании, тем лучше она будет готова к наступлению чрезвычайных ситуаций.

Комитет должен проанализировать сценарии, которые приведут к следующим последствиям:
- Неисправность или недоступность оборудования
- Недоступность водоснабжения, коммунальных услуг, отопления, вентиляции, электроэнергии (utilities)
- Недоступность (невозможность использования) здания
- Недоступность (неработоспособность) критичного персонала
- Недоступность (неработоспособность) производителей или поставщиков услуг
- Повреждение программного обеспечения и/или данных

К выявленным угрозам по отдельности должны быть применены критерии потерь (loss criteria). Среди этих критериев могут быть следующие:
- Ущерб репутации и общественному доверию
- Потеря конкурентных преимуществ
- Повышение операционных расходов
- Нарушение контрактных обязательств
- Нарушение законодательства и требований регуляторов
- Отложенные расходы
- Потеря доходов
- Снижение производительности

![[Pasted image 20241114093708.png]]

Основной целью планирования непрерывности бизнеса является возможность восстановить работу компании настолько быстро, насколько это возможно, потратив при этом минимум денег. Полный план возобновления работы компании должен охватывать все организационные единицы компании, определять критичные сервисы и функции, обеспечивать альтернативый режим работы в аварийном режиме и включать в себя планы каждого подразделения.

### 2.2. Превентивные меры

В процессе выполнения BIA команда ВСР должна определить максимально допустимое время простоя (MTD - Maximum tolerable downtime) для критичных ресурсов. Это необходимо для понимания негативного воздействия на бизнес, вызванного недоступностью активов. Также это создает чувство, что команда могла бы попытаться снизить это воздействие и, тем самым, снизить соответствующий риск, внедрив превентивные меры.

Таким образом, вместо того, чтобы просто ждать очередную аварию или чрезвычайную ситуацию, чтобы увидеть, как компания справится с ней, следует внедрить контрмеры, обеспечивающие лучшую защиту компании от выявленых вероятных негативных воздействий. Реализация приемлемых и экономически эффективных превентивных мер называется проактивным подходом, он гораздо предпочтительнее реактивного подхода. Выбор превентивных механизмов, которые следует внедрить, зависит от результатов BIA, но среди них могут быть некоторые из следующих компонентов:
- Укрепление здания, его конструкционных материалов
- Использование резервных серверов и коммуникационных каналов
- Ввод электропитания от разных трансформаторов
- Поддержка дополнительными (избыточными) поставщиками
- Страхование
- Установка источников бесперебойного питания и электрогенераторов
- Внедрение технологий резервного копирования данных
- Обеспечение защиты носителей информации
- Увеличение количества запасных частей для критичного оборудования
- Внедрение систем обнаружения и тушения пожара

### 2.3. Восстановление технической среды

На данный момент у команды BCP есть схемы критичных бизнес-функций, которые обязательно должны выполняться, определен наилучший для компании вариант альтернативной площадки. Теперь команда должна углубиться в детали, такие как обеспечение резервирования для следующих элементов:
- Сетевое и компьютерное оборудование
- Коммуникационное оборудование для передачи голоса и данных
- Люди
- Средства для транспортировки оборудования и персонала
- Системы вентиляции, отопления и кондиционирования
- Системы обеспечения безопасности персонала и данных
- Различные расходные материалы (бумага, бланки, кабели и т.п.)
- Документация

Некоторым это покажется поразительным, но в действительности многие компании не имеют полного понимания, как настроена и работает их сеть, потому что она, скорее всего, была создана пять-десять лет назад и в течение этого времени постоянно росла и изменялась. В нее добавлялись новые устройства, новые компьютеры, устанавливалось новые программное обеспечение, в нее была интегрирована система IP-телефонии, первоначальная DMZ была разделена на три отдельных DMZ, организованы экстрасети с партнерами компании… Возможно, компания приобрела другую компанию и объединила ее сеть со своей. За десять лет обновились многие технологии, сменился персонал, обеспечивающий поддержку сети. В подразделениях ИТ многих компаний наблюдается текучесть кадров, каждые пять лет персонал полностью обновляется. К тому же во многих компаниях сильно устарели сами подходы и принципы организации сети, поскольку все очень заняты своими текущими задачами и ни у кого нет времени на перестройку сети.

**Резервирование оборудования**

Команда должна определить, какое оборудование необходимо для обеспечения работоспособности наиболее важных для компании функций. В состав такого оборудования могут входить серверы, пользовательские рабочие станции, маршрутизаторы, коммутаторы, ленточные накопители для резервного копирования, концентраторы и многое другое.

**Резервирование программного обеспечения**

В подразделениях ИТ большинства компаний дистрибутивные комплекты программного обеспечения и лицензионные ключи от них хранятся в множестве различных мест, а не централизовано. Как сотрудники ИТ получат доступ к этим дистрибутивным комплектам и лицензионным ключам в случае разрушения здания? Команда BCP должна обязательно оформить перечень программного обеспечения, необходимого для функционирования критически важных функций, организовать хранение копий дистрибутивов и лицензионных ключей на удаленной площадке. Ведь при отсутствии программного обеспечения, оборудование, как правило, окажется бесполезным. Должны быть созданы резервные копии такого программного обеспечения, как, например, бизнес-приложения, утилиты, системы управления базами данных, операционные системы. План непрерывности должен содержать требования по резервному копированию и защите этого программного обеспечения, а не только оборудования и данных.

**Документация**

Даже восстановление отдельных файлов может вызвать трудности, а восстановление всей инфраструктуры и сети компании, пострадавшей в результате наводнения, может оказаться крайне сложным, или вообще невозможным. Все важные процедуры должны быть хорошо задокументированы, поскольку процесс восстановления, скорее всего, будет происходить в атмосфере хаоса, полной неразберихи и неопределенности. Документация должна содержать подробную информацию о том, как правильно установить образы дисков, настроить операционные системы и серверы, установить утилиты и прикладное программное обеспечение. Другая часть документации должна описывать дерево вызовов (calling tree), которое указывает, кто с кем должен контактировать и в какой последовательности. В документации должна быть указана контактная информация отдельных поставщиков, местных служб по чрезвычайным ситуациям, площадок в удаленных зданиях и любых других людей и компаний, с которыми может потребоваться контактировать в чрезвычайной ситуации.

### 2.4. Варианты резервного копирования данных

Персонал, обеспечивающий сопровождение систем, должен определить, какие данные подлежат резервному копированию и с какой периодичностью. Резервное копирование может быть полным, дифференциальным или инкрементальным; обычно используются некоторые комбинации различных типов резервного копирования. Большинство файлов не меняется ежедневно, поэтому с целью более бережного использования времени и ресурсов, следует разработать план резервного копирования, который не будет предусматривать постоянного резервного копирования данных (файлов), которые не меняются. Но как можно определить, какие данные изменились и нуждаются в резервном копировании, не просматривая при этом дату последнего изменения каждого файла? Это делается с помощью бита архивирования ( archive bit). Файловые системы операционных систем отслеживают изменения файлов и устанавливают бит архивирования. Если был создан новый файл или изменен существующий, файловая система устанавливает для этого файла бит архивирования в 1. Программное обеспечение, выполняющее резервное копирование, просматривает состояние этого бита и на основании него принимает решение, нужно ли включать этот файл в резервную копию или нет. 

Первым шагом является создание **полной резервной копии** (full backup), которая представляет собой копию всех данных на некотором внешнем устройстве хранения. В процессе создания полной резервной копии бит архивирования очищается (устанавливается в 0). Компания может решить выполнять только полное резервное копирование, позволяющее восстанавливать данные в одно действие, однако при этом создание резервных копий и восстановление с них может занимать много времени.

Большинство компаний использует комбинацию полного резервного копирования с дифференциальным или инкрементальным резервным копированием. При создании **дифференциальной резервной копии** (differential process) копируются только те файлы, которые были изменены с момента предыдущего полного резервного копирования. При необходимости восстановления данных, сначала восстанавливаются данные с полной резервной копии, а затем поверх них записываются данные из дифференциальной резервной копии. При создании дифференциальной копии значение бита архивирования не изменяется. 

При создании **инкрементальной резервной копии** (incremental process) копируются все файлы, которые были изменены с момента последнего создания полной или инкрементальной резервной копии. В процессе создания инкрементальной копии бит архивирования сбрасывается (устанавливается в 0). При необходимости восстановления данных, сначала производится восстановление файлов с полной резервной копии, а затем в правильном порядке поверх них записываются файлы из каждой созданной инкрементальной резервной копии.

Какой вариант резервного копирования является наилучшим? Если компания нужно сделать процесс резервного копирования и восстановления простым и прямолинейным, она может выбрать использование только полного резервного копирования. Однако это потребует большого количества внешних носителей информации (или большого объема дискового пространства) для хранения резервных копий, а процесс создания резервных копий будет занимать достаточно много времени. Использование дифференциального и инкрементального резервного копирования является более сложным процессом, но они требуют значительно меньше ресурсов и времени. Дифференциальное резервное копирование требует больше времени на создание резервных копий, но меньше времени на этапе восстановления данных, который всегда делится только на два этапа (восстановление полной копии и восстановление дифференциальной копии). Инкрементальное резервное копирование, по сравнению с дифференциальным, занимает меньше времени при создании резервных копий (т.к. копируется меньший объем информации), но для восстановления информации требуется больше времени из-за необходимости восстановления информации с нескольких копий.

Выбирая вариант организации резервного копирования, не следует смешивать дифференциальное и инкрементальное резервное копирование. Это может привести к потере данных, поскольку при создании инкрементальной копии бит архивирования изменяется, а при создании дифференциальной копии – нет.

Для критичных данных должно быть организовано резервное копирование, а резервные копии должны храниться как на основной площадке, так и на внешней.

### 2.5. Средства автоматизированного резервного копирования

Выполнение вручную операций резервного копирования систем и данных может отнимать много времени, вести к ошибкам, в результате чего такое решение может оказаться слишком дорогостоящим. Другим подходом к этому процессу является выполнение операций резервного копирования с помощью автоматизированных средств. Хотя средства автоматизированного резервного копирования обычно достаточно дороги, они выполняют эту работу гораздо быстрее и точнее, что необходимо для систем, функционирующих в режиме реального времени, данные в которых зменяются очень часто. Среди множества технологий и способов резервного копирования данных можно выделить технологию **теневого копирования дисков** (disk shadowing), которая очень похожа на **зеркалирование** (disk mirroring) дисков.

Теневое копирование дисков применяется для обеспечения гарантий доступности данных и создания отказоустойчивого решения путем дублирования на аппаратном уровне и обеспечения наличия двух или более копий информации. Данные автоматически записываются на два или более идентичных диска. При использовании зеркалирования дисков, для каждого диска требуется дополнительный зеркальный диск, при этом оба диска содержат абсолютно одинаковую информацию, данные записываются на оба диска одновременно в синхронном режиме. При использовании теневого копирования дисков, создание теневой копии происходит в асинхронном режиме, данные хранятся в виде образов на двух или более дисках.

Теневое копирование дисков обеспечивает резервное хранение информации, копии создаются в режиме реального времени, что может снизить или полностью удовлетворить потребности компании в выполнении периодического ручного резервного копирования. Другим преимуществом такого решения является то, что оно может повысить скорость операций чтения. В связи с дублированием данных на нескольких дисках, теневой набор может одновременно выполнять несколько операций чтения.
















