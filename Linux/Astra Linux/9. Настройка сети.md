
### 1. Файлы конфигурации сети в Linux

1. `/etc/hosts.conf` - Содержит параметры разрешения доменных имен. Например, директива `order hosts, bind` означает, что сначала поиск IР-адреса по доменному имени будет произведен в файле `/etc/hosts`, а затем лишь будет произведено обращение к DNS-cepвepy, заданному в файле `/etc/resolv.conf`. Директива `multi on` означает, что одному доменному имени могут соответствовать несколько IР-адресов.
2. `/etc/hosts` - В этом файле можно прописать IР-адреса и имена узлов локальной сети, но обычно здесь указывается только IР-адрес узла `localhost (127.0.0.1)`, потому что сейчас даже в небольшой локальной сети устанавливается собственный DNS-cepвep.
3. `/etc/hosts.allow` - Содержит IР-адреса узлов, которым разрешен доступ к сервисам этого узла
4. `/etc/hosts.deny` - Содержит IР-адреса узлов, которым запрещен доступ к сервисам этого узла
5. `/etc/hostname` - Содержит имя узла
6. `/etc/network/interfaces` - Используется для ручной настройки сетевых интерфейсов (не с помощью NetworkManager)
7. `/etc/resolv.conf` - Задает IР-адреса серверов `DNS`. Формат файла прост: nameserver IР-адрес Всего можно указать четыре DNS-cepвepa. При использовании NetworkManager этот файл не используется, и настройки DNS хранятся файле соединения в каталоге `/etc/NetworkManager/system-connections`
8. `/etc/NetworkManager/system-connections/` - В дистрибутивах, использующих NetworkManager, в этом каталоге хранятся настройки соединений - в отдельных файлах по одному для каждого соединения. При этом название файла соответствует названию соединения, введенному при настройке

> где хранится пароль от сети Wi-Fi? Перейдите в каталог `/etc/NetworkManager/system-connections`. В нем хранятся файлы конфигурации для каждого из ваших соединений. Имя файла соответствует имени соединения, а в случае с Wi-Fi - имени сети. Откройте файл соединения и найдите параметр `psk` - это и будет пароль от Wi-Fi в незашифрованном виде.

### 2. Имена сетевых интерфейсов

Все (или практически все) современные дистрибутивы перешли на единый сервис настройки сети **NetworkManager** конфигуратор сети у всех стал один - `nm-connection-editor`. Классическое название интерфейса Ethernet - `ethX`, где `Х` - это число от `0`. Первому Еthеrnеt-интерфейсу соответствует имя `eth0`, второму - `eth1` и т. д. Но у некоторых дистрибутивов имена интерфейсов могут отличаться от классических - например, вместо `eth0` может использоваться имя `ens33` или `enp3s0`. Такие имена появились в связи с переходом современных дистрибутивов на `udev` (систему
управления устройствами для новых версий ядра Linux).

Впрочем, определенная система в назначении новых имен также имеется, только она не столь очевидная. Сетевые адаптеры, встроенные в материнскую плату, носят теперь название типа `eno1`. Если же сетевая карта подключена к PCI Express, то она будет нести название типа `ens33`. Имена устройств, содержащие физическое/географическое расположение коннектора, будут выглядеть как `enp2s0`. А самые сложные и «страшные» имена у сетевых адаптеров, определяемых через МАС-адрес
### 3. Статические маршруты

В ТСР/IР-сетях информация о маршрутах имеет вид правил - например, чтобы добраться до сети `А`, нужно отправить пакеты через компьютер `Д`.

Примерно так же выглядит и информация о маршрутах на дороге: чтобы доехать до города `А`, нужно проехать через город `Д`. Кроме набора маршрутов, есть также и стандартный маршрут - по нему отправляют пакеты, предназначенные для отправки в сеть, маршрут к которой явно не указан. Компьютер, на который отправляются такие пакеты, называется шлюзом по умолчанию (`default gateway`). Получив пакет, шлюз решает, что с ним сделать: или отправить дальше, если ему известен маршрут в сеть получателя пакета, или же уничтожить пакет, как будто бы его никогда и не было.

Данные о маршрутах хранятся в таблице маршрутизации ядра Linux. Каждая запись этой таблицы содержит несколько параметров: адрес сети назначения, сетевую маску и т. д. Если пакет не удалось отправить ни по одному маршруту (в том числе и по стандартному), отправителю пакета передается `IСМР-сообщение` «сеть недоступна» (network unreachaЬle).

**Команды `netstat` и `route`**

Для просмотра таблицы маршрутизации служат команды `netstat -r` и `netstat -rn`. Можно также по старинке воспользоваться командой `route` без параметров . Разница между командами `netstat -r` и `netstat -rn` заключается в том, что параметр `-rn` запрещает поиск доменных имен в DNS, поэтому все адреса будут представлены в числовом виде

![[Pasted image 20250825131159.png]]

Поля таблицы маршрутизации:

| Поле            | Описание                            |
| --------------- | ----------------------------------- |
| **Destination** | Адрес сети назначения               |
| **Gateway**     | Шлюз по умолчанию                   |
| **Genmask**     | Маска сети назначения               |
| **Flags**       | Поле Flags содержит флаги маршрута: |
|                 |                                     |
